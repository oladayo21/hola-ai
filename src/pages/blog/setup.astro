---
import Base from '../../layouts/Base.astro';
import Steps from '../../components/Steps.astro';
import Tabs from '../../components/Tabs.astro';
import TabItem from '../../components/TabItem.astro';
import Aside from '../../components/Aside.astro';
import Code from '../../components/Code.astro';
---

<Base title="Claude Code Setup" description="Dein Einstieg in AI-gestütztes Coding">
  <article class="setup-page">
    <div class="setup-container">
      <header class="page-header">
        <a href="/blog" class="back-link">&larr; Alle Artikel</a>
        <h1>Claude Code Setup</h1>
        <p class="subtitle">Dein Einstieg in AI-gestütztes Coding</p>
      </header>

      <section class="content">
        <h2>Was ist Claude Code?</h2>
        <p>
          <strong>Claude Code</strong> ist ein Kommandozeilen-Tool (CLI), das Claude direkt in dein Terminal bringt.
          Statt Code zwischen Browser und Editor zu kopieren, kann Claude Code:
        </p>
        <ul>
          <li><strong>Direkt auf deine Dateien zugreifen</strong> - Es liest und versteht deinen Code</li>
          <li><strong>Änderungen vorschlagen und umsetzen</strong> - Mit deiner Erlaubnis</li>
          <li><strong>Komplexe Aufgaben planen</strong> - Im "Plan Mode" analysiert es erst</li>
        </ul>

        <Aside type="tip" title="Warum CLI statt Chat?">
          <p>Im Browser-Chat musst du Code kopieren, einfügen, erklären wo er hingehört. Claude Code sieht dein Projekt direkt - wie ein Kollege, der neben dir sitzt.</p>
        </Aside>

        <hr />

        <h2>Schritt 1: NMT AI Gateway Zugang</h2>
        <p>Wir nutzen das <strong>firmeninterne AI Gateway</strong> - kein eigenes Claude.ai Abo nötig.</p>

        <Steps>
          <ol>
            <li>
              <strong>Registrierungsseite öffnen</strong>
              <p>Geh auf: <a href="https://tools.ai.tech.as-nmt.de/tools?tool=NMT%2520AI%2520Gateway&tab=getAccess" target="_blank" rel="noopener">NMT AI Gateway Registration</a></p>
            </li>
            <li>
              <strong>Für Claude registrieren</strong>
              <p>Folge den Anweisungen. Du bekommst einen <strong>Auth Token</strong> - eine lange Zeichenkette wie ein Passwort.</p>
            </li>
            <li>
              <strong>Token sicher aufbewahren</strong>
              <p>Kopiere den Token und speichere ihn sicher (z.B. Passwort-Manager). Du brauchst ihn in Schritt 3.</p>
            </li>
          </ol>
        </Steps>

        <Aside type="caution" title="Wichtig: Netzwerk">
          <p>Das AI Gateway funktioniert <strong>nur</strong> im Axel Springer Netzwerk (Büro oder VPN)!</p>
        </Aside>

        <hr />

        <h2>Schritt 2: Claude Code installieren</h2>

        <Tabs items={["Mac / Linux", "Windows"]}>
          <TabItem label="Mac / Linux" active>
            <p><strong>Option A: Homebrew</strong> (empfohlen)</p>
            <Code code="brew install --cask claude-code" />

            <p><strong>Option B: Installer-Script</strong></p>
            <Code code="curl -fsSL https://claude.ai/install.sh | bash" />

            <p>Danach Terminal neu starten und prüfen:</p>
            <Code code="claude --version" />
          </TabItem>

          <TabItem label="Windows">
            <p>In PowerShell:</p>
            <Code code="irm https://claude.ai/install.ps1 | iex" lang="powershell" />

            <p>Danach PowerShell neu starten und prüfen:</p>
            <Code code="claude --version" lang="powershell" />
          </TabItem>
        </Tabs>

        <hr />

        <h2>Schritt 3: Mit dem AI Gateway verbinden</h2>
        <p>Setze diese Umgebungsvariablen mit deinem Token aus Schritt 1:</p>

        <Tabs items={["Mac / Linux", "Windows"]}>
          <TabItem label="Mac / Linux" active>
            <p>Füge zu deiner <code>~/.zshrc</code> oder <code>~/.bashrc</code> hinzu:</p>
            <Code
              code={`# NMT AI Gateway Konfiguration
export ANTHROPIC_AUTH_TOKEN='dein-token-hier'
export ANTHROPIC_BASE_URL='https://litellm.dev.tech.as-nmt.de/'
export ANTHROPIC_MODEL='eu.anthropic.claude-sonnet-4-5-20250929-v1:0'`}
              title="~/.zshrc"
            />
            <p>Dann aktivieren:</p>
            <Code code="source ~/.zshrc" />
          </TabItem>

          <TabItem label="Windows">
            <p>In PowerShell:</p>
            <Code
              code={`$env:ANTHROPIC_AUTH_TOKEN = 'dein-token-hier'
$env:ANTHROPIC_BASE_URL = 'https://litellm.dev.tech.as-nmt.de/'
$env:ANTHROPIC_MODEL = 'eu.anthropic.claude-sonnet-4-5-20250929-v1:0'`}
              lang="powershell"
            />
            <p>Für permanente Einrichtung: Suche "Umgebungsvariablen" in Windows.</p>
          </TabItem>
        </Tabs>

        <Aside type="caution">
          <p><strong>Token geheim halten!</strong> Niemals in Git oder öffentlich teilen.</p>
        </Aside>

        <hr />

        <h2>Schritt 4: Testen</h2>

        <Steps>
          <ol>
            <li>
              <strong>Navigiere zu einem Ordner</strong>
              <Code code="cd pfad/zu/projekt" />
            </li>
            <li>
              <strong>Starte Claude Code</strong>
              <Code code="claude" />
            </li>
            <li>
              <strong>Stelle eine Test-Frage</strong>
              <p><em>"Was siehst du in diesem Ordner?"</em></p>
            </li>
            <li>
              <strong>Beenden</strong>
              <p>Tippe <code>/exit</code> oder drücke <code>Ctrl+C</code></p>
            </li>
          </ol>
        </Steps>

        <hr />

        <h2>Checkliste</h2>
        <ul class="checklist">
          <li>NMT AI Gateway Zugang - Du hast einen Auth Token</li>
          <li><code>claude --version</code> zeigt eine Versionsnummer</li>
          <li>Umgebungsvariablen sind gesetzt</li>
          <li>Test-Frage wurde beantwortet</li>
        </ul>

        <hr />

        <h2>Probleme?</h2>
        <p>
          Melde dich bei: <a href="mailto:oladayo.fagbemi@axelspringer.com">oladayo.fagbemi@axelspringer.com</a>
        </p>

        <Aside type="note">
          <p>Falls etwas nicht klappt, schreib mir vor dem Workshop. Wir kriegen das hin! Im Notfall machen wir das Setup gemeinsam in den ersten Minuten.</p>
        </Aside>
      </section>
    </div>
  </article>
</Base>

<style is:global>
  .setup-page {
    padding: 4rem 1.5rem;
  }

  .setup-container {
    max-width: 900px;
    margin: 0 auto;
  }

  .setup-page .page-header {
    margin-bottom: 4rem;
  }

  .setup-page .back-link {
    display: inline-block;
    font-size: 0.875rem;
    color: #878787;
    margin-bottom: 2rem;
    text-decoration: none;
  }

  .setup-page .back-link:hover {
    color: #e5e5e5;
  }

  .setup-page .page-header h1 {
    font-size: 2.5rem;
    font-weight: 600;
    color: #e5e5e5;
    margin-bottom: 0.5rem;
    letter-spacing: -0.02em;
  }

  .setup-page .subtitle {
    font-size: 1.125rem;
    color: #878787;
    margin: 0;
  }

  .setup-page .content h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: #e5e5e5;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .setup-page .content p {
    color: #a3a3a3;
    line-height: 1.7;
    margin-bottom: 1rem;
  }

  .setup-page .content ul,
  .setup-page .content ol {
    color: #a3a3a3;
    padding-left: 1.5rem;
    margin-bottom: 1rem;
  }

  .setup-page .content li {
    margin-bottom: 0.5rem;
    line-height: 1.6;
  }

  .setup-page .content a {
    color: #60a5fa;
  }

  .setup-page .content a:hover {
    color: #93c5fd;
  }

  .setup-page .content hr {
    border: none;
    height: 1px;
    background: #2a2a2a;
    margin: 2.5rem 0;
  }

  .setup-page .content code {
    font-family: 'Geist Mono', monospace;
    font-size: 0.875rem;
    background: #1a1a1a;
    padding: 0.2em 0.4em;
    border-radius: 4px;
  }

  .setup-page .checklist {
    list-style: none;
    padding-left: 0;
  }

  .setup-page .checklist li {
    padding-left: 1.75rem;
    position: relative;
  }

  .setup-page .checklist li::before {
    content: "[ ]";
    position: absolute;
    left: 0;
    color: #60a5fa;
    font-family: 'Geist Mono', monospace;
  }
</style>
